liquid-paint-test-v8.html should have incorporated your suggested fixes. We made the squares bigger to help identify the problem. Any suggestions on how to get the squares to perfectly line up so we can remove the lines?
Switch to a Grid Size That Ensures Integer Divisions and Even Piece Sizes
To avoid subpixel positioning and rendering artifacts that create visible seams, update the grid to dimensions where IMAGE_SIZE divides evenly, and the piece size is even (for integer centers). For your 700px image, use gridCols = 7 and gridRows = 7 (700 / 7 = 100px pieces, even). This results in 49 particles for debugging—fewer than the 4x4 but still large enough to inspect seams—while ensuring perfect alignment.
In initImageParticles():JavaScriptgridCols = 7;  
gridRows = 7;  
const spacing = IMAGE_SIZE / 7; // 100  
const overlap = 1.0; // No overlap needed for perfect integers  
const pieceWidth = spacing; // Simplified for testing  
const pieceHeight = spacing;Then, in the loop:JavaScriptconst x = imageX + offsetX + (gridX * spacing) + (spacing / 2); // 50 is integer  
const y = imageY + offsetY + (gridY * spacing) + (spacing / 2);This positions centers at integers if imageX is integer (see next point).
Force Integer Positioning for the Entire Image
Subtle gaps can appear if the image isn't aligned to the pixel grid. Floor the centering calculations to ensure whole numbers.
In initImageParticles() (before the loops):JavaScriptconst imageX = Math.floor((canvas.width - IMAGE_SIZE) / 2);  
const imageY = Math.floor((canvas.height - IMAGE_SIZE) / 2);Also, remove Math.round from ctx.translate in draw() to let Canvas handle exact positions (now integers):JavaScriptctx.translate(this.x, this.y);If minor jitter appears during motion, re-add the round but test static alignment first.
Add Slight Rendering Overlap to Hide Potential Seams
Even with perfect math, browser rendering can introduce 1px artifacts due to floating-point precision or zoom levels. Add a tiny overlap (e.g., 1-2%) in the rendered dimensions to make edges bleed together without visible overdraw (since the image is opaque).
In the ImageParticle constructor:JavaScriptthis.renderWidth = (scaledWidth / gridCols) * 1.02; // Slight overlap  
this.renderHeight = (scaledHeight / gridRows) * 1.02;Keep pieceWidth and pieceHeight as-is for physics. This is a common fix in canvas-based tile systems and won't affect performance.
Remove Demo Grid Lines for Cleaner Testing
Your demo image includes faint white grid lines every 50px, which might exaggerate or mimic seam issues. Comment them out to isolate if the "lines" are seams or part of the texture.
In createDemoImage():JavaScript// Comment out the grid drawing loop  
// for (let i = 0; i < IMAGE_SIZE; i += 50) { ... }Reload and check if lines persist— if yes, it's seams; if no, the demo grid was the culprit. For your angel-07.png or story images, this won't apply.
Pre-Resize Source Images to Match Grid Exactly
If using non-700x700 images (e.g., angel-07.png), mismatches in source sampling can cause edge fading. After loading, resize the source to exactly match scaledWidth x scaledHeight with no smoothing.
Add in img.onload (before sourceImage = img;):JavaScriptconst resizedCanvas = document.createElement('canvas');  
resizedCanvas.width = Math.floor(scaledWidth); // Force integer  
resizedCanvas.height = Math.floor(scaledHeight);  
const resizedCtx = resizedCanvas.getContext('2d');  
resizedCtx.imageSmoothingEnabled = false;  
resizedCtx.drawImage(img, 0, 0, resizedCanvas.width, resizedCanvas.height);  
sourceImage = resizedCanvas; // Use this for perfect divisionThis ensures sourceImage.width / gridCols is integer-friendly.

These changes should make the squares line up seamlessly, creating a solid image at rest while preserving the fluid reveal effect. Start with the 7x7 grid for debugging, then scale up (e.g., to spacing=10 for ~4900 particles) for production to balance FPS (aim for 30+ on your 4090). Test in a browser at 100% zoom first. Once fixed, this will produce cleaner motion graphics for your ambient videos—integrate into ComfyUI for batch renders or After Effects for final polish. If lines remain, share a screenshot of the 7x7 version for further tweaks!